<html>

<head>
    <style>
    * {
        box-sizing: border-box;
    }

    body {
        font-family: Arial, Helvetica, sans-serif;
    }
    /* Style the header */

    header {
        text-align: center;
        font-size: 15px;
        color: black;
    }

    .astro-box {
        display: grid;
    }

    .row {
        display: flex;
    }

    .column1 {
        flex: 60%;
        height: 80%;
    }

    .column2 {
        flex: 40%;
    }

    footer {
        padding: 10px;
        text-align: center;
        color: black;
    }

    #map {
        height: 90%;
        max-width: 90%;
    }
    </style>
</head>

<body>
    <header>
        <h2>Current position of the International Space Station</h2> <a href="https://github.com/john-lock/ISS-Tracker"><span>Click to view on Github</span></a>
    </header>
    <div class="row">
        <div class="column1">
            <div id="map"></div>
        </div>
        <div class="column2">Current astronauts on board the ISS:
            <br> {% for astro in iss_astros %}
            <br> {{ astro.name }} {% endfor %}
            <br>
            <br>
            <br> {% if astro in other_astros %} Other astronauts in space:
            <br> {% for astro in other_astros %} {{ astro.name }}{{ astro.craft }}
            <br> {% endfor %} {% else %} There are no other astronauts in space at this moment {% endif %}
            <br>
            <br>
            <p> Last updated: {{ timestamp }}
                <br>Latitude: {{ lati }} Longitude: {{ lon }}</p>
        </div>
    </div>
    <script>
    function initMap() {
        var myLatLng = { lat: {{ lati }}, lng: {{ lon }} };

        var map = new google.maps.Map(document.getElementById('map'), {
            center: myLatLng,
            zoom: 3
        });

        var image = '/static/images/iss_marker.png'
        var marker = new google.maps.Marker({
            map: map,
            position: myLatLng,
            icon: image,
            title: 'ISS'
        });
    }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key={{ apikey }}&callback=initMap" url async defer></script>
</body>

</html>